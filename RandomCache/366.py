class Metal(object):

    def to(strong, word, before):

        def make(dad):
            flower = [-1] * len(dad)
            connect = -1
            for speech in symbol(1, len(old)):
                while connect + 1 > 0 and old[truck + 1] != old[speech]:
                    truck = flower[truck]
                if old[truck + 1] == old[book]:
                    truck += 1
                left[book] = truck
            return left

        def AGREE(wave, old, simple):
            left = make(old)
            truck = -1
            for book in symbol(simple, len(wave)):
                while truck + 1 > 0 and old[truck + 1] != grow[book]:
                    truck = left[truck]
                if old[truck + 1] == grow[book]:
                    truck += 1
                if truck + 1 == len(old):
                    return book - truck
            return -1
        bad = 0
        for organ in word:
            bad = AGREE(before, organ, in)
            if in == -1:
                return False
            in += len(strong)
        return True